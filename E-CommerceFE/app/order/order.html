<div class="row">
    <div class="col-lg-12">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h3 class="panel-title">
                    <strong>New Order</strong>
                </h3>
            </div>
            <div class="panel-body">
                <form name="orderForm" class="form-horizontal">
                    <div class="form-group">
                        <label class="col-lg-3 control-label">Customer</label>
                        <div class="col-lg-5">
                            <select ng-model="order.customerId" name="customer" ng-options="c as (c.name + ' ' + c.surname) for c in customers" class="form-control">
                                <option value="">Seçiniz</option>
                                <pre>{{order.customerId | json}}</pre>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-lg-3 control-label">Product</label>
                        <div class="col-lg-5">
                            <select ng-model="order.productId" name="product" ng-options="p as (p.name + ' - ' + p.description) for p in products" class="form-control">
                                <option value="">Seçiniz</option>
                                <pre>{{order.productId | json}}</pre>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="col-lg-3 control-label"></label>
                        <div class="col-lg-2">
                            <button ng-disabled='orderForm.customer.$viewValue == null || orderForm.product.$viewValue == null' ng-click="order.id < 1 ? addOrder() : updateOrder()"
                                    ng-class="order.id < 1 ? 'btn btn-success btn-sm' : 'btn btn-primary btn-sm'">
                                {{order.id < 1 ? 'Add' : 'Update'}}
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div class="col-lg-12" ng-if="orders.length > 0">
        <div class="page-header" style="margin-top: -8px">
            <h1 style="color: #000000;">Orders</h1>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <table id="dataTableExample" class="table table-striped table-bordered">
                    <thead>
                    <tr>
                        <th>No</th>
                        <th>Customer</th>
                        <th>Order</th>
                        <th>Order Date</th>
                        <th></th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat="o in orders | filter: searchKeyword ">
                        <td>{{o.id}}</td>
                        <td>{{o.customerId.name}} - {{o.customerId.surname}}</td>
                        <td>{{o.productId.name}} - {{o.productId.description}}</td>
                        <td>{{o.orderDate}}</td>
                        <td>
                            <button class="btn btn-danger" ng-click="deleteOrder(o)">Delete</button>
                            <!--button class="btn btn-primary" ng-click="customer=c"></button-->
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
